<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>使用json</title>
    <script src="./ajax.js"></script>
    <script type="text/javascript">
      /* 
        前后端交互的流程：
          1、通过ajax下载数据
          2、分析数据，转成对应的数据结构
          3、处理数据
      */
      
      window.onload = function(){
        var oBtn = document.getElementById('btn');
        oBtn.onclick = function() {
          $ajax({
            method: "get",
            url: "getList.php",
            success: function(result){
              // alert(result);
              var arr = JSON.parse(result);
              for(let i=0; i<arr.length; i++){
                alert(i + ',' + arr[i]);
              }
            },
            error: function(msg){
              alert(msg);
            }
          });
        }
      }
    </script>
  </head>
  <body>
    <button id="btn">按键</button>
  </body>
</html>
